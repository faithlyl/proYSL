$(function(){$(".footer-search .e-footer-search-btn").on("tap",function(){var a=$(".footrtkey").val();if(isNullOrEmpty(a)){a=$(".footrtkey").attr("placeholder")}$("#footrtkeysearch").find("#keyword").val(a);$("#footrtkeysearch").submit()});$(".footer-search .form-input .footrtkey").keydown(function(a){if(a.keyCode=="13"){var b=$(".footrtkey").val();if(isNullOrEmpty(b)){b=$(".footrtkey").attr("placeholder")}$("#footrtkeysearch").find("#keyword").val(b);$("#footrtkeysearch").submit()}});$("#footSubscribe").on("blur",function(){checkFooterSubscribe()});$("#footSubscribe").on("focus",function(){$("#footerAgree").show()});$("#footerAgree").find(".form-checkbox").on("tap",function(){var a=$(this);if(a.hasClass("is-active")){a.removeClass("is-active")}else{a.addClass("is-active")}});$("#footSubscription").on("tap",function(){if($("#footerAgree").find(".form-checkbox").hasClass("is-active")){$("#footerAgree").removeClass("is-error")}else{$("#footerAgree").addClass("is-error")}if(checkFooterSubscribe()&&$("#footerAgree").find(".form-checkbox").hasClass("is-active")){var b={receiver:$("#footSubscribe").val().trim().toLowerCase(),agree:"t"};var c=loxia.syncXhrPost("/email/subscribe.json",b);if(c.result){$(".subscribe-cont").addClass("none");var a=$("#footSubscribe").val().trim();var d="您的电子邮件"+a+"已订阅成功";$(".subscribe-success").find("p:eq(1)")[0].textContent=d;$(".subscribe-success").removeClass("none")}else{if(c.statusCode!="numFalse"){showToastAlert("您已订阅,不要重复订阅")}else{showToastAlert(c.resultMessage.message)}}}else{if(!checkFooterSubscribe()){$(".footSubscribe").find(".msg-block").show();$(".footSubscribe").addClass("is-error")}else{return}}})});function checkFooterSubscribe(){var b=false;var c=$("#footSubscribe").val().trim();if(c==""){$(".footSubscribe").find(".msg-block").show();$(".footSubscribe").addClass("is-error");b=false}else{var d=new RegExp(/^[A-Za-z0-9_.-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/);var a=d.test(c);if(a){$(".footSubscribe").find(".msg-block").hide();$(".footSubscribe").removeClass("is-error");$("#footSubscribe").val(c);b=true}else{$(".footSubscribe").find(".msg-block").show();$(".footSubscribe").addClass("is-error");b=false}}return b};