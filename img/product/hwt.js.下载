!function(G,D){function JSONParse(str){if(!str)return null;var params=eval("("+str+")"),nextParams={};for(var key in params)nextParams[key]=decode(params[key]);return nextParams}function JSONStringify(t){var e=[];for(var r in t)e.push('"'+encode(r)+'":"'+encode(t[r])+'"');return"{"+e.join(",")+"}"}function addPrefixByObjectKey(t,e){var r,n={};for(r in t)n[e+r]=t[r];return n}function arrayIndexOf(t,e){if(null!=Array.prototype.indexOf)return t.indexOf(e);for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1}function bind(t,e){var r,n,i=Function.prototype.bind,o=Array.prototype.slice;if(i&&t.bind===i)return i.apply(t,o.call(arguments,1));if(!isFunction(t))throw new TypeError;return r=o.call(arguments,2),n=function(){if(!(this instanceof n))return t.apply(e,r.concat(o.call(arguments)));var i={};i.prototype=t.prototype;var a=new i;i.prototype=null;var s=t.apply(a,r.concat(o.call(arguments)));return Object(s)===s?s:a}}function decode(t){return decodeURIComponent(t)}function encode(t){return encodeURIComponent(t)}function extend(t,e,r){var n,i={};if(r){for(n in t)i[n]=t[n];for(n in e)i[n]=e[n];return i}for(n in e)t[n]=e[n];return t}function formatParams(t){var e,r,n=[];for(e in t)r=t[e],void 0!==r&&""!==r&&null!==r&&n.push(e+"="+encode(r));return n.join("&")}function getJSON(t,e){var r,n=guid();G[n]=function(){e.apply(G,arguments),r.parentNode.removeChild(r),G[n]=null},t+="&jsonp="+n,r=getScript(t)}function getOffset(t){var e=document&&document.documentElement,r={top:0,left:0};return void 0!==t.getBoundingClientRect&&(r=t.getBoundingClientRect()),e&&(r={top:r.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||0),left:r.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}),r}function getQueryString(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),r=window.location.search.substr(1).match(e);return null!==r?unescape(r[2]):null}function getReferrer(){var t;try{t=G.top.document.referrer}catch(e){log(e);try{t=G.parent.document.referrer}catch(r){log(r),t=document.referrer}}return t}function getScript(t,e){var r=D.createElement("script"),n=D.getElementsByTagName("head")[0];return r.type="text/javascript",r.charset="utf-8",r.src=t,n.insertBefore(r,n.firstChild),r}function guid(){return"_"+(1e18*Math.random()).toString(36).slice(0,5).toUpperCase()}function isArray(t){return"[object Array]"===Object.prototype.toString.call(t)}function isFunction(t){return"function"==typeof t}function isNumber(t){return/^[0-9]+$/.test(t)}function isObject(t){return"[object Object]"===Object.prototype.toString.call(t)}function log(t,e){if(e=e||"log",G.console&&G.console[e]&&(DEBUG||G._tracker_debug))G._tracker_logs||(G._tracker_logs=[]),G._tracker_logs.push(e+":"+t),G.console[e]("t : "+t);else if("throw"===e)throw t+" >> http://developers.hypers.com.cn/website/debug.html"}function noop(){}function offEvent(t,e,r){return G.addEventListener?(t.removeEventListener(e,r),t):(t.detachEvent(e,r),t)}function onEvent(t,e,r,n){return document.addEventListener?(t.addEventListener(e,r,n),t):(t.attachEvent("on"+e,function(){return r.call(t,window.event)}),t)}function toLowerCaseKeyByObject(t){var e,r={};for(e in t)r[e.toLowerCase()]=t[e];return r}function trim(t){return t?t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):t}function getEventTarget(t){return"undefined"==typeof t.target?t.srcElement:t.target}function isElementNode(t){return t&&1===t.nodeType}function isTag(t,e){return t&&t.tagName&&t.tagName.toLowerCase()===e.toLowerCase()}function shouldTrackDomEvent(t,e){if(!t||isTag(t,"html")||!isElementNode(t))return!1;var r=t.tagName.toLowerCase();switch(r){case"html":return!1;case"form":return"submit"===e.type;default:return"click"===e.type}}function shouldTrackElement(t,e,r){var n=getClassName(t),i=t.tagName.toLowerCase();if(n.indexOf("hwt-no-track")>-1)return!1;if(e)return!0;var o=["a","button","img","input","form"],a=t.getAttribute("type");return arrayIndexOf(o,i)>-1&&(("input"!==i||"button"===a||"submit"===a)&&("form"!==i||"submit"===r.type))}function getClassName(t){switch(typeof t.className){case"string":return t.className;case"object":return t.className.baseVal||t.getAttribute("class")||"";default:return""}}function isTextNode(t){return t&&3===t.nodeType}function getSafeText(t){var e=trim(t.innerText);return e||(e=t.getAttribute("title")),e&&(e=e.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)),trim(e)}function getElementKey(t){var e=t.tagName.toLowerCase(),r=getClassName(t),n=t.getAttribute("id");return n&&(e+="#"+n),r&&(e+="."+r),e}function getSafeOffset(t,e){var r=getOffset(t),n=t.offsetWidth,i=t.offsetHeight,o=r.left+n,a=r.top+i,s=e.clientX&&e.clientX>r.left&&e.clientX<o?e.clientX:r.left,c=e.clientY&&e.clientY>r.top&&e.clientY<a?e.clientY:r.top;return{x:Math.round(s),y:Math.round(c)}}function AutoTrack(t){this.tracker=t,this._trackEvent=function(t){var e=getEventTarget(t);isTextNode(e)&&(e=e.parentNode);var r,n,i,o=this.tracker.options.heatmap,a=this.tracker.options.auto_track;if(shouldTrackDomEvent(e,t)){for(var s=[e],c=e;c.parentNode&&!isTag(c,"body");)s.push(c.parentNode),c=c.parentNode;n=null,i=null;for(var l=0;l<s.length;l++){var u=s[l],f=u.tagName.toLowerCase();shouldTrackElement(u,o,t)&&(i=[],n=u),i&&i.push(getElementKey(u)),"a"===f&&(r=u.getAttribute("href"))}}if(n){var h=getSafeOffset(e,t),p=i.reverse().join(">"),d=n.tagName.toLowerCase(),g="form"!==d?getSafeText(n):"",v="submit"===t.type,m={e_auto:a?1:null,e_heatmap:o?1:null,e_type:t.type,e_x:v?null:h.x||null,e_y:v?null:h.y||null,el_tag:d,el_href:r,el_text:g,el_path:p};this.tracker.trackEvent(m)}},this._addDOMEventHandlers=function(){var t=bind(this._trackEvent,this);onEvent(document,"click",t,!0),onEvent(document,"submit",t,!0)},this.init=function(){this._addDOMEventHandlers()}}function Controller(){function t(){for(var t=null,e=0;e<MMA_PARAMS.length;e++){var r=MMA_PARAMS[e];if(r){var n=r[0],i=getQueryString(n);i&&(t||(t={}),t[n]=i)}}return t}function e(t){for(var e=null,r=0;r<MMA_PARAMS.length;r++){var n=MMA_PARAMS[r],i=n[0],o=t[i];o&&(e||(e={}),e[n[1]]=o)}return e}this.trackers={},this.create=function(arguments,r,n){var i,o=arguments[0],a=arguments[1],s=arguments[2];o||log("14001","throw"),G[r]=G[r]||{},i=new WebTracker(r),i.ua=o,i.alias=n,a&&(a.auto_track||a.heatmap)&&(i.evt=new AutoTrack(i),i.evt.init()),i.options=compatibleOption(extend(i.options,extend(OPTIONS,toLowerCaseKeyByObject(a),!0))),i.options.id&&(i.options.storage_id=i.options.id);var c=i.options.storage_id;i.session=new SessionStorage(i.options),i.local=new LocalStorage(i.options,"MMA"),i.session.available&&(i[c]=i.session.get());var l=t();if(l&&(i.MMAParams=e(l)),i.local.available){var u=i.local.get();l?i.local.set(JSONStringify(l)):u&&(i.MMAParams=e(JSONParse(u)))}return this.trackers[n]=i,isFunction(s)&&s(),this},this.enable=function(arguments,t,e){arguments[0];return arguments.length?this:void(this.trackers[e].available=!0)},this.send=function(arguments,t,e){var r=arguments.splice(0,1)[0];return this.trackers[e][r](arguments),this},this.set=function(arguments,t,e){function r(t,arguments){if(isObject(arguments[0]))return extend(t.options,arguments[0]),void(isFunction(arguments[1])&&arguments[1](t));if(arguments.length>=2){var e=arguments[0],r=arguments[1],n=arguments[2],i=t.options[e];return t.options[e]=i?extend(i,r,!0):r,void(isFunction(n)&&n(t))}}return this.trackers[e]?(r(this.trackers[e],arguments),this):void console.error("`WebTracker` is not defined. ===> http://dev.hypers.com.cn/tracker/website/api-create.html")},this.identify=function(arguments,t,e){var r=arguments[0],n={};if(null===r||void 0===r)throw"identify params is undifined";isObject(r)?n=r:"string"!=typeof r&&"number"!=typeof r||(n.muid=r),this.trackers[e].identifyParams=n},this.track=function(arguments,t,e){e="_v1_2_v1_3",isObject(arguments[0])?arguments.splice(0,0,arguments[0].UA):arguments.splice(0,1,arguments[1].UA),this.create(arguments,t,e),this.send(["pageview"],t,e)}}function HyperAnalytics(t,e){if(G[e].controller=G[e].controller||new Controller,this.push=function(arguments){var t,r,n="default";if(arguments=[].slice.apply(arguments),arguments.length)return t=arguments.splice(0,1)[0],r=t.split("."),"create"===t&&arguments[1]&&arguments[1].name&&(n=arguments[1].name),r.length>1&&(n=r[0],t=r[1]),G._ha_disable?void log("_ha is disabled"):G["_ha_disable_"+n]?void log("_ha ["+n+"]  is disabled"):G[e].controller[t]?void G[e].controller[t](arguments,e,n):void log(t+"  is not defined")},t&&t.length)for(var r=0;r<t.length;r++)this.push(t[r])}function LocalStorage(t,e){if(!t.storage_id)throw Error("id is not defined");try{if(!G.localStorage)return{available:!1}}catch(r){return log(r),{available:!1}}this.id=(t.api_url+"-"+t.storage_id).replace(/http(s)?/,"").replace(/[\/:.]/g,"").toLocaleUpperCase()+"_"+e,this.available=!0,this.set=function(t){localStorage.setItem(this.id,t)},this.get=function(){return localStorage.getItem(this.id)}}function SessionStorage(t){if(!t.storage_id)throw Error("id is not defined");try{if(!G.sessionStorage)return{available:!1}}catch(e){return log(e),{available:!1}}this.id=(t.api_url+"-"+t.storage_id).replace(/http(s)?/,"").replace(/[\/:.]/g,"").toLocaleUpperCase(),this.available=!0,this.set=function(t){sessionStorage.setItem(this.id,t)},this.get=function(){return sessionStorage.getItem(this.id)}}function WebTracker(t){this.options={title:D.title,params:{}},this.available=!0,this.ua=0,this.logs=[],this.MMAParams=null,this.pageview=function(arguments){var t={},e=arguments[0]||{},r=arguments[1],n=e.url||this.options.url;return"_v1_1"!==this.alias&&(n&&!n.substr(0,8).match(/https?:\/\//)&&(n=[G.location.protocol,"//",G.location.hostname,"/"==n.substr(0,1)?"":"/",n].join("")),t.url=n),t.title=e.title||this.options.title,extend(t,addPrefixByObjectKey(e.params,"p_")),request.call(this,"pv",t,r),this},this.action=function(arguments){var t=arguments[0],e=addPrefixByObjectKey(arguments[1],"p_"),r=arguments[2];return e.act_name=t,request.call(this,"act",e,r),this},this.form=function(arguments){var t=arguments[0],e=arguments[1];return request.call(this,"form",t,e),this},this.trackEvent=function(t,e){request.call(this,"evt",t,e)}}function request(t,e,r){if(!this.available)return void log("This is a disabled Tracker");var n,i,o=this.options.storage_id||"_hid",a=extend(addPrefixByObjectKey(this.options.params,"p_"),e,!0);a.type=t,this.MMAParams&&(extend(a,this.MMAParams),a._z="_",a.cross=1),this[o]&&"null"!==this[o]&&(a[o]=this[o]),this.options.with_ref&&(n=getReferrer())&&/.*[\u4e00-\u9fa5]+.*$/.test(n)&&(n=encodeURI(n)),a.ref=n;var s=this.options.env;for(var o in s)a["_"+o]=s[o];if(this.options.muid&&(a.muid=this.options.muid),this.options.uid&&(a.uid=this.options.uid),this.identifyParams){var c=this.identifyParams;for(var o in c)a[encode(o)]=encode(c[o])}a.uid&&(a._z="_"),a._ua=this.ua,a.v=this.options.version,a["char"]=CHARSET,a.lang=LANGUAGE,a.sr=RESOLUTION,a.sd=COLORDEPTH,"undefined"==typeof a.url&&(a.url=document.URL||window.location.href);var l="form"===a.type?"form":this.options.api_type;i=this.options.api_url+"/"+l+"?"+formatParams(a);var u=this;getJSON(i,function(t){u[u.options.storage_id]=t,handleStorageCompletion(t),isFunction(r)&&r(u,i),DEBUG&&u.logs.push(i)})}function handleStorageCompletion(t){var e=G.HWT_ID_READY_CALL_ONCE;e&&(isFunction(e)?e(t):isFunction(G[e])?G[e](t):getScript(e),handleStorageCompletion=noop)}function compatibleOption(t){function e(t,e){return t=t.replace(/\/(hwt|hmt)\?[^\s]*/,"").replace(/https?:/,""),"/"===t[t.length-1]&&(t=t.substr(0,t.length-1)),(e?"https:":PROTOCOL)+t}return t.api_url&&(t.api_url=e(t.api_url,t.force_ssl)),t}function compatibleVersion(){if(G._hwtTQ){var t="_ha",e="_v1_1";G[t]||(G[t]=function(){return(G[t].q=G[t].q||[]).push(arguments)}),G[t].controller=G[t].controller||new Controller;for(var r,n=G._hwtTQ;r=n.shift();)r.splice(0,0,r[0].UA),G[t].controller.create(r,t,e),G[t].controller.send(["pageview"],t,e);G._hwt={track:function(r,n){G[t].controller.send(["pageview"],t,e)}}}}var PROTOCOL="https:"===D.location.protocol?"https:":"http:",DEBUG=getQueryString("_debug")||G._debug,CHARSET=D.charset||D.characterSet,LANGUAGE=navigator.language||navigator.userLanguage,RESOLUTION=G.screen.width+"x"+G.screen.height,COLORDEPTH=G.screen.colorDepth,OPTIONS={auto_track:!1,heatmap:!1,force_ssl:!1,storage_id:"_hid",version:"1.9.1",with_ref:!0,api_url:"//t.hypers.com.cn/cgi-bin",api_type:"hwt",params:{},env:{inst:"saas"}},MMA_PARAMS=[["h0","os"],["h1","imei"],["h2","androidid"],["h3","androidid1"],["h4","aaid"],["h5","mac"],["h6","mac1"],["h7","idfa"],["h8","openudid"],["h9","duid"]];compatibleVersion(),function(){var t="undefined"==typeof G.HyperAnalyticsObject?"_hwt":G.HyperAnalyticsObject;if(isArray(t))for(var e=0;e<t.length;e++)isObject(G[t[e]].q)||(G[t[e]].q=new HyperAnalytics(G[t[e]].q,t[e]));else G[t]||(G[t]=function(){return(G[t].q=G[t].q||[]).push(arguments)}),G[t].q=new HyperAnalytics(G[t].q,t)}(),G.CHECK_OPTIONS_CALLBACK&&G.CHECK_OPTIONS_CALLBACK(OPTIONS)}(this,document);